<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mã hóa Caesar</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;max-width:700px;margin:2rem auto;padding:1rem}
    label{display:block;margin-top:0.6rem}
    textarea{width:100%;height:100px}
    input[type=number]{width:100px}
    button{padding:8px 12px;margin-top:8px}
    .out{white-space:pre-wrap;background:#fafafa;padding:10px;border:1px solid #ddd;margin-top:10px}
  </style>
</head>
<body>
  <h1>Mã hóa Caesar</h1>
  <label>Văn bản:
    <textarea id="text"></textarea>
  </label>
  <label>Khóa(0-25): <input type="number" id="k" value="3" min="0" max="25"></label>
  <div>
    <button id="enc">Mã hóa</button>
    <button id="dec">giải mã</button>
    <button id="clear">Xóa</button>
  </div>
  <h3>Kết quả</h3>
  <div id="output" class="out"></div>
<script>
function clean(s){ return s.toUpperCase().replace(/[^A-Z]/g,''); }
function caesar_encrypt(pt,k){ pt = clean(pt); let out=''; for(let ch of pt) out += String.fromCharCode((ch.charCodeAt(0)-65 + k)%26 + 65); return out; }
function caesar_decrypt(ct,k){ return caesar_encrypt(ct, (26 - (k%26))%26); }

document.getElementById('enc').addEventListener('click', ()=>{
  const t=document.getElementById('text').value; const k=parseInt(document.getElementById('k').value||0,10);
  document.getElementById('output').textContent = caesar_encrypt(t,k);
});

document.getElementById('dec').addEventListener('click', ()=>{
  const t=document.getElementById('text').value; const k=parseInt(document.getElementById('k').value||0,10);
  document.getElementById('output').textContent = caesar_decrypt(t,k);
});

document.getElementById('clear').addEventListener('click', ()=>{ document.getElementById('text').value=''; document.getElementById('output').textContent=''; });
</script>
</body>
</html>
